/*! responsive-nav.js @@version
 * https://github.com/viljamis/responsive-nav.js
 * http://responsive-nav.com
 *
 * Copyright (c) @@year @viljamis
 * Available under the MIT license
 */(function(e,t,n){"use strict";var r=function(r,i){var s,o,u,a,f=e.createElement("style"),l=e.documentElement,c,h,p,d=function(t,n){var r;this.options={animate:!0,transition:284,label:"Menu",insert:"before",customToggle:"",closeOnNavClick:!1,openPos:"relative",navClass:"nav-collapse",navActiveClass:"js-nav-active",jsClass:"js",init:function(){},open:function(){},close:function(){}};for(r in n)this.options[r]=n[r];addClass(l,this.options.jsClass);this.wrapperEl=t.replace("#","");if(e.getElementById(this.wrapperEl))this.wrapper=e.getElementById(this.wrapperEl);else{if(!e.querySelector(this.wrapperEl))throw new Error("The nav element you are trying to select doesn't exist");this.wrapper=e.querySelector(this.wrapperEl)}this.wrapper.inner=getChildren(this.wrapper);o=this.options;s=this.wrapper;this._init(this)};d.prototype={destroy:function(){this._removeStyles();removeClass(s,"closed");removeClass(s,"opened");removeClass(s,o.navClass);removeClass(s,o.navClass+"-"+this.index);removeClass(l,o.navActiveClass);s.removeAttribute("style");s.removeAttribute("aria-hidden");removeEvent(t,"resize",this,!1);removeEvent(e.body,"touchmove",this,!1);removeEvent(u,"touchstart",this,!1);removeEvent(u,"touchend",this,!1);removeEvent(u,"mouseup",this,!1);removeEvent(u,"keyup",this,!1);removeEvent(u,"click",this,!1);var n=this;forEach(a,function(e,t){removeEvent(t,"touchstart",n,!1);removeEvent(t,"touchend",n,!1);removeEvent(t,"mouseup",n,!1);removeEvent(t,"keyup",n,!1);removeEvent(t,"click",n,!1)});o.customToggle?u.removeAttribute("aria-hidden"):u.parentNode.removeChild(u)},toggle:function(){if(c===!0){p?this.close():this.open();this._enablePointerEvents()}},open:function(){if(!p){removeClass(s,"closed");addClass(s,"opened");addClass(l,o.navActiveClass);addClass(u,"active");s.style.position=o.openPos;setAttributes(s,{"aria-hidden":"false"});p=!0;o.open()}},close:function(){if(p){addClass(s,"closed");removeClass(s,"opened");removeClass(l,o.navActiveClass);removeClass(u,"active");setAttributes(s,{"aria-hidden":"true"});if(o.animate){c=!1;setTimeout(function(){s.style.position="absolute";c=!0;removeClass(s,"dropdown-active");forEach(a,function(e,t){removeClass(t.parentNode,"opened")})},o.transition+10)}else{s.style.position="absolute";removeClass(s,"dropdown-active");forEach(a,function(e,t){removeClass(t.parentNode,"opened")})}p=!1;o.close()}},resize:function(){if(t.getComputedStyle(u,null).getPropertyValue("display")!=="none"){h=!0;setAttributes(u,{"aria-hidden":"false"});if(s.className.match(/(^|\s)closed(\s|$)/)){setAttributes(s,{"aria-hidden":"true"});s.style.position="absolute"}this._createStyles();this._calcHeight()}else{h=!1;setAttributes(u,{"aria-hidden":"true"});setAttributes(s,{"aria-hidden":"false"});s.style.position=o.openPos;removeClass(s,"dropdown-active");forEach(a,function(e,t){removeClass(t.parentNode,"opened")});this._removeStyles()}},handleEvent:function(e){var n=e||t.event;switch(n.type){case"touchstart":this._onTouchStart(n);break;case"touchmove":this._onTouchMove(n);break;case"touchend":case"mouseup":this._onTouchEnd(n);break;case"click":this._preventDefault(n);break;case"keyup":this._onKeyUp(n);break;case"resize":this.resize(n)}},_init:function(){this.index=n++;addClass(s,o.navClass);addClass(s,o.navClass+"-"+this.index);addClass(s,"closed");c=!0;p=!1;this._closeOnNavClick();this._createToggle();this._createDropdowns();this._transitions();this.resize();var r=this;setTimeout(function(){r.resize()},20);addEvent(t,"resize",this,!1);addEvent(e.body,"touchmove",this,!1);addEvent(u,"touchstart",this,!1);addEvent(u,"touchend",this,!1);addEvent(u,"mouseup",this,!1);addEvent(u,"keyup",this,!1);addEvent(u,"click",this,!1);o.init()},_createStyles:function(){if(!f.parentNode){f.type="text/css";e.getElementsByTagName("head")[0].appendChild(f)}},_removeStyles:function(){f.parentNode&&f.parentNode.removeChild(f)},_createToggle:function(){if(!o.customToggle){var t=e.createElement("a");t.innerHTML=o.label;setAttributes(t,{href:"#","class":"nav-toggle"});o.insert==="after"?s.parentNode.insertBefore(t,s.nextSibling):s.parentNode.insertBefore(t,s);u=t}else{var n=o.customToggle.replace("#","");if(e.getElementById(n))u=e.getElementById(n);else{if(!e.querySelector(n))throw new Error("The custom nav toggle you are trying to select doesn't exist");u=e.querySelector(n)}}},_createDropdowns:function(){var t=this;elemsByClassName?a=s.getElementsByClassName("dropdown-toggle"):a=e.getElementsByClassName("dropdown-toggle");forEach(a,function(e,n){addEvent(n,"touchstart",t,!1);addEvent(n,"touchend",t,!1);addEvent(n,"mouseup",t,!1);addEvent(n,"keyup",t,!1);addEvent(n,"click",t,!1)})},_toggleDropdown:function(e){addClass(s,"dropdown-active");var t=e.parentNode,n=hasClass(t.parentNode.parentNode,"dropdown");if(hasClass(t,"opened")){removeClass(t,"opened");n||removeClass(s,"dropdown-active")}else if(n){forEach(getChildren(t.parentNode),function(e,t){removeClass(t,"opened")});addClass(t,"opened")}else{forEach(a,function(e,t){removeClass(t.parentNode,"opened")});addClass(t,"opened")}this._enablePointerEvents()},_closeOnNavClick:function(){if(o.closeOnNavClick){var e=s.getElementsByTagName("a"),t=this;forEach(e,function(n,r){addEvent(e[n],"click",function(){h&&t.toggle()},!1)})}},_preventDefault:function(e){if(e.preventDefault){e.stopImmediatePropagation&&e.stopImmediatePropagation();e.preventDefault();e.stopPropagation();return!1}e.returnValue=!1},_onTouchStart:function(t){this._preventDefault(t);addClass(e.body,"disable-pointer-events");this.startX=t.touches[0].clientX;this.startY=t.touches[0].clientY;this.touchHasMoved=!1;removeEvent(t.target,"mouseup",this,!1)},_onTouchMove:function(e){if(Math.abs(e.touches[0].clientX-this.startX)>10||Math.abs(e.touches[0].clientY-this.startY)>10){this._enablePointerEvents();this.touchHasMoved=!0}},_onTouchEnd:function(e){this._preventDefault(e);if(!h)return;var n=e||t.event,r=n.target||n.srcElement,i=!1;hasClass(r,"dropdown-toggle")&&(i=!0);if(!this.touchHasMoved){if(e.type==="touchend"){i?this._toggleDropdown(r):this.toggle();return}var s=e||t.event;s.which!==3&&s.button!==2&&(i?this._toggleDropdown(r):this.toggle())}},_onKeyUp:function(e){var n=e||t.event,r=e.target,i=!1;hasClass(r,"dropdown-toggle")&&(i=!0);n.keyCode===13&&(i?this._toggleDropdown(r):this.toggle())},_enablePointerEvents:function(){removeClass(e.body,"disable-pointer-events")},_transitions:function(){if(o.animate){var e=s.style,t="max-height "+o.transition+"ms";e.WebkitTransition=t;e.MozTransition=t;e.OTransition=t;e.transition=t}},_calcHeight:function(){var e=0;for(var t=0;t<s.inner.length;t++)e+=s.inner[t].offsetHeight;var n="."+o.jsClass+" ."+o.navClass+"-"+this.index+".opened{max-height:"+e+"px !important} ."+o.jsClass+" .disable-pointer-events{pointer-events:none !important} ."+o.jsClass+" ."+o.navClass+"-"+this.index+".opened.dropdown-active {max-height:9999px !important}";f.styleSheet?f.styleSheet.cssText=n:f.innerHTML=n;n=""}};return new d(r,i)};t.responsiveNav=r})(document,window,0);